"use strict";var e=require("react/jsx-runtime"),t=require("react"),n=require("antd"),r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},r.apply(this,arguments)};function l(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(n[r[l]]=e[r[l]])}return n}function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}"function"==typeof SuppressedError&&SuppressedError;var i,u={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/i=u,function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var l=arguments[r];if(l){var a=typeof l;if("string"===a||"number"===a)n.push(l);else if(Array.isArray(l)){if(l.length){var i=t.apply(null,l);i&&n.push(i)}}else if("object"===a){if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]")){n.push(l.toString());continue}for(var u in l)e.call(l,u)&&l[u]&&n.push(u)}}}return n.join(" ")}i.exports?(t.default=t,i.exports=t):window.classNames=t}();var o=a(u.exports),s={alphabet:/[^A-Za-z]/,"alphabet-numeric":/[\W_]/,"alphabet-symbol":/[\d]|[^\S]/,numeric:/\D/,"numeric-symbol":/[A-Za-z]|[^\S]/,symbol:/[^\W_]|[^\S]/},p=function(e){var t=e.currentTarget;return{nextTarget:t.nextElementSibling,prevTarget:t.previousElementSibling}},c=function(e){var t=null==e?void 0:e.target;return Array.from(null==t?void 0:t.parentNode.children)},f=function(e){var t=null==e?void 0:e.target;return c(e).indexOf(t)},d=function(e){var t=e.inputType,n=e.inputRegex,r=e.value,l="string"==typeof n?new RegExp(n):n,a="custom"===t&&n&&!l.test(r),i="all"!==t&&"custom"!==t&&s[t].test(r);return Boolean(a||i)},v=function(e){return!!e&&"submit"in e};!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css","top"===n&&r.firstChild?r.insertBefore(l,r.firstChild):r.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e))}}(".input-otp{display:flex;gap:1em;justify-content:center}.input-otp__field{font-size:20px;font-weight:700;height:64px;max-width:44px;text-align:center;width:100%}");var g=t.memo(t.forwardRef((function(t,a){var i,u=t.className,s=t.indexComponent,p=t.getSingleInput,c=l(t,["className","indexComponent","getSingleInput"]),f=null!==(i=null==p?void 0:p(s))&&void 0!==i?i:n.Input;return e.jsx(f,r({className:o("input-otp__field",u),ref:a,maxLength:1},c))}))),y=t.forwardRef((function(n,a){var i=n.autoFocus,u=void 0!==i&&i,s=n.autoSubmit,y=void 0===s?null:s,h=n.disabled,m=n.id,b=n.inputClassName,x=n.inputRef,S=void 0===x?null:x,w=n.inputRegex,T=n.inputStyle,C=n.inputType,j=void 0===C?"all":C,O=n.isPreserveFocus,k=void 0!==O&&O,N=n.length,A=void 0===N?6:N,P=n.placeholder,R=void 0===P?"":P,E=n.onChange,D=n.value,_=n.wrapperClassName,F=n.wrapperStyle,I=l(n,["autoFocus","autoSubmit","disabled","id","inputClassName","inputRef","inputRegex","inputStyle","inputType","isPreserveFocus","length","placeholder","onChange","value","wrapperClassName","wrapperStyle"]),B=t.useState([]),q=B[0],z=B[1],K=function(e){return e<2?2:e>16?16:e}(A),L=t.useCallback((function(e){e.currentTarget.select()}),[]),W=t.useCallback((function(e,t){(!D||D.join("").length<1)&&z([]);var n=f(e),r=function(e,t,n){if(n||2===arguments.length)for(var r,l=0,a=t.length;l<a;l++)!r&&l in t||(r||(r=Array.prototype.slice.call(t,0,l)),r[l]=t[l]);return e.concat(r||Array.prototype.slice.call(t))}([],D||[],!0);return r[n]=e.currentTarget.value,null==t||t(r),null==E||E(r),r}),[E,D]),Z=t.useCallback((function(e){var t=p(e),n=t.nextTarget,r=t.prevTarget,l=e.currentTarget,a=W(e),i=a.join("").length===K,u=e.nativeEvent.inputType,o="insertText"===u,s=o&&!n;return s&&y&&i&&(v(y)?y.submit():y(a)),s&&!k?l.blur():o?null==n?void 0:n.select():"deleteContentBackward"===u?null==r?void 0:r.select():void 0}),[y,K,W,k]),M=t.useCallback((function(e){if("Enter"!==(null==e?void 0:e.key))return d({inputRegex:w,inputType:j,value:null==e?void 0:e.key})?e.preventDefault():void 0}),[w,j]),G=t.useCallback((function(e){var t=p(e),n=t.nextTarget,r=t.prevTarget;switch(e.key){case"Backspace":if(e.currentTarget.value)break;case"ArrowLeft":e.preventDefault(),null==r||r.select();break;case"ArrowRight":e.preventDefault(),null==n||n.select()}}),[]),H=t.useCallback((function(e){e.preventDefault();var t=f(e),n=c(e),r=e.clipboardData.getData("text");if(!d({inputRegex:w,inputType:j,value:r})){var l=r.split("").slice(0,A-t),a=W(e,(function(e){(!e||e.length<1)&&(e=Array(A).fill(""));for(var n=0;n<A;n++)l[n]&&(e[n+t]=l[n])}));n[l.length+t]?n[l.length+t].select():n[l.length+t-1].focus();var i=a.join("").length===K;y&&i&&(v(y)?y.submit():y(a))}}),[y,K,W,w,j,A]);return e.jsx("div",{className:o("input-otp",_),id:m,ref:a,style:F,children:Array(K).fill(null).map((function(t,n){return e.jsx(g,r({indexComponent:n,autoFocus:u&&0===n,className:b,disabled:h,onFocus:L,onInput:Z,onKeyDown:G,onKeyPress:M,onPaste:H,ref:function(e){S&&(null===S.current&&(S.current=[]),S.current[n]=e)},style:T,value:(null==D?void 0:D[n])||(null==q?void 0:q[n]),placeholder:1===(null==R?void 0:R.length)?R:null==R?void 0:R[n]},I),"input-otp-".concat(n))}))})}));exports.InputOTP=y;
//# sourceMappingURL=index.cjs.js.map
