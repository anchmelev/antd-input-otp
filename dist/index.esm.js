import{jsx as e}from"react/jsx-runtime";import{memo as t,forwardRef as n,useState as r,useCallback as l}from"react";import{Input as o}from"antd";var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(n[r[l]]=e[r[l]])}return n}function u(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}"function"==typeof SuppressedError&&SuppressedError;var p,c={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/p=c,function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var l=arguments[r];if(l){var o=typeof l;if("string"===o||"number"===o)n.push(l);else if(Array.isArray(l)){if(l.length){var i=t.apply(null,l);i&&n.push(i)}}else if("object"===o){if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]")){n.push(l.toString());continue}for(var a in l)e.call(l,a)&&l[a]&&n.push(a)}}}return n.join(" ")}p.exports?(t.default=t,p.exports=t):window.classNames=t}();var s=u(c.exports),f={alphabet:/[^A-Za-z]/,"alphabet-numeric":/[\W_]/,"alphabet-symbol":/[\d]|[^\S]/,numeric:/\D/,"numeric-symbol":/[A-Za-z]|[^\S]/,symbol:/[^\W_]|[^\S]/},d=function(e){var t=e.currentTarget;return{nextTarget:t.nextElementSibling,prevTarget:t.previousElementSibling}},v=function(e){var t=null==e?void 0:e.target;return Array.from(null==t?void 0:t.parentNode.children)},g=function(e){var t=null==e?void 0:e.target;return v(e).indexOf(t)},y=function(e){var t=e.inputType,n=e.inputRegex,r=e.value,l="string"==typeof n?new RegExp(n):n,o="custom"===t&&n&&!l.test(r),i="all"!==t&&"custom"!==t&&f[t].test(r);return Boolean(o||i)},m=function(e){return!!e&&"submit"in e};!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css","top"===n&&r.firstChild?r.insertBefore(l,r.firstChild):r.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e))}}(".input-otp{display:flex;gap:1em;justify-content:center}.input-otp__field{font-size:20px;font-weight:700;height:64px;max-width:44px;text-align:center;width:100%}");var h=t(n((function(t,n){var r,l=t.className,u=t.indexComponent,p=t.getSingleInput,c=a(t,["className","indexComponent","getSingleInput"]),f=null!==(r=null==p?void 0:p(u))&&void 0!==r?r:o;return e(f,i({className:s("input-otp__field",l),ref:n,maxLength:1},c))}))),x=n((function(t,n){var o=t.autoFocus,u=void 0!==o&&o,p=t.autoSubmit,c=void 0===p?null:p,f=t.disabled,x=t.id,b=t.inputClassName,S=t.inputRef,w=void 0===S?null:S,T=t.inputRegex,O=t.inputStyle,j=t.inputType,C=void 0===j?"all":j,N=t.isPreserveFocus,A=void 0!==N&&N,E=t.length,P=void 0===E?6:E,R=t.placeholder,D=void 0===R?"":R,_=t.onChange,k=t.value,F=t.wrapperClassName,B=t.wrapperStyle,I=a(t,["autoFocus","autoSubmit","disabled","id","inputClassName","inputRef","inputRegex","inputStyle","inputType","isPreserveFocus","length","placeholder","onChange","value","wrapperClassName","wrapperStyle"]),z=r([]),K=z[0],L=z[1],W=function(e){return e<2?2:e>16?16:e}(P),Z=l((function(e){e.currentTarget.select()}),[]),M=l((function(e,t){(!k||k.join("").length<1)&&L([]);var n=g(e),r=function(e,t,n){if(n||2===arguments.length)for(var r,l=0,o=t.length;l<o;l++)!r&&l in t||(r||(r=Array.prototype.slice.call(t,0,l)),r[l]=t[l]);return e.concat(r||Array.prototype.slice.call(t))}([],k||[],!0);return r[n]=e.currentTarget.value,null==t||t(r),null==_||_(r),r}),[_,k]),q=l((function(e){var t=d(e),n=t.nextTarget,r=t.prevTarget,l=e.currentTarget,o=M(e),i=o.join("").length===W,a=e.nativeEvent.inputType,u="insertText"===a,p=u&&!n;return p&&c&&i&&(m(c)?c.submit():c(o)),p&&!A?l.blur():u?null==n?void 0:n.select():"deleteContentBackward"===a?null==r?void 0:r.select():void 0}),[c,W,M,A]),G=l((function(e){if("Enter"!==(null==e?void 0:e.key))return y({inputRegex:T,inputType:C,value:null==e?void 0:e.key})?e.preventDefault():void 0}),[T,C]),H=l((function(e){var t=d(e),n=t.nextTarget,r=t.prevTarget;switch(e.key){case"Backspace":if(e.currentTarget.value)break;case"ArrowLeft":e.preventDefault(),null==r||r.select();break;case"ArrowRight":e.preventDefault(),null==n||n.select()}}),[]),J=l((function(e){e.preventDefault();var t=g(e),n=v(e),r=e.clipboardData.getData("text");if(!y({inputRegex:T,inputType:C,value:r})){var l=r.split("").slice(0,P-t),o=M(e,(function(e){(!e||e.length<1)&&(e=Array(P).fill(""));for(var n=0;n<P;n++)l[n]&&(e[n+t]=l[n])}));n[l.length+t]?n[l.length+t].select():n[l.length+t-1].focus();var i=o.join("").length===W;c&&i&&(m(c)?c.submit():c(o))}}),[c,W,M,T,C,P]);return e("div",{className:s("input-otp",F),id:x,ref:n,style:B,children:Array(W).fill(null).map((function(t,n){return e(h,i({indexComponent:n,autoFocus:u&&0===n,className:b,disabled:f,onFocus:Z,onInput:q,onKeyDown:H,onKeyPress:G,onPaste:J,ref:function(e){w&&(null===w.current&&(w.current=[]),w.current[n]=e)},style:O,value:(null==k?void 0:k[n])||(null==K?void 0:K[n]),placeholder:1===(null==D?void 0:D.length)?D:null==D?void 0:D[n]},I),"input-otp-".concat(n))}))})}));export{x as InputOTP};
//# sourceMappingURL=index.esm.js.map
